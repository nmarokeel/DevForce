<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
</head>
<body onload="getOpenRequests()">

    <h1>Open Requests</h1>
    <div id="requests"><table border="1" id="table_id"></table></div>



    <script type="text/javascript">

        function getOpenRequests() {

            var webMethod = "ProjectServices.asmx/GetUnresolvedRequests";


            //jQuery ajax method
            $.ajax({
                type: "POST",
                url: webMethod,
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (response) {

                    requestArray = response.d;

                    $("#table_id").empty();

                    for (var i = 0; i < requestArray.length; i++) {
                        var req;

                        req = "<tr><td>" + requestArray[i].requestID + "</td><td>" + requestArray[i].problem + "</td><td>" + requestArray[i].solution + "</td><td>" + requestArray[i].department + "</td><td>" + 
                            requestArray[i].date + "</td><td>" + requestArray[i].type + "</td></tr > ";

                        }

                    $("#table_id").append(req);
                },
                error: function (e) {
                    alert("Something went wrong!");
                }
            });

        }



        </script>

</body >
</html >
